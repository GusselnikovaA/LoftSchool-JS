<script>
    let where = document.createElement('div');
            let class1 = `class-1`;
            let class2 = `class-2-3`;
            let text1 = 'text 1';
            let text2 = 'text 2';
            let stat = {
                tags: { P: 1, B: 2 },
                classes: { [class1]: 2, [class2]: 1 },
                texts: 3
            };
            let result;

            where.innerHTML = `<p class="${class1}"><b>${text1}</b> <b class="${class1} ${class2}">${text2}</b></p>`;
            result = collectDOMStat(where);

            function collectDOMStat(root) {
    let statistics = {
        tags: {},
        classes: {},
        texts: 0
    }; // создаем пустой объект

    for (let node of root.childNodes) { // цикл для всех узлов DOM root
        if (node.nodeType === 1) {
            let child = node.firstChild; 

            while (child) {
                if (child.nodeType === 1) { // если тип узла элемент
                    collectDOMStat(child);
                    let tagName = child.tagName;

                    if (statistics.tags.hasOwnProperty(tagName) == false) { // проверяет есть ли свойство у объекта с именем этого элемента
                        statistics.tags[tagName] = 1; // если нет, создает такое свойство со значением 1
                    } else {
                        statistics.tags[tagName] += 1; // если есть, увеличивает значение этого свойства на 1
                    }

                    if (child.hasAttribute('class')) { // проверяем есть ли у узла элемента атрибут class
                        let className = child.getAttribute('class'); // присваиваем переменной className значение атрибута class

                        if (statistics.classes.hasOwnProperty(className) == false) { // проверяет есть ли свойство у объекта с именем этого класса 
                            statistics.classes[className] = 1; // если нет, создает такое свойство со значением 1
                        } else {
                            statistics.classes[className] += 1; // если есть, увеличивает значение этого свойства на 1
                        }
                    }
                } else if (child.nodeType === 3) { // если тип узла текстовый
                    statistics.texts += 1; // значение свойства texts должно увеличиваться на 1
                }
                child = child.nextSibling;
            }
        } else if (node.nodeType === 3) {
            statistics.texts += 1;
        }
    }
    console.log(statistics);
    return statistics;
}
</script>